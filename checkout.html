<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checkout</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="checkout-container">
    <h1>Checkout</h1>

    <div class="section">
      <div class="section-title">Items</div>
      <div class="input-group">
        <input type="text" id="item-name" placeholder="Nama item">
        <input type="number" id="item-price" placeholder="Harga item">
        <input type="number" id="quantity of items" placeholder="Jumlah item"> 
        <button onclick="tambahItem()">Tambah Item</button>
      </div>
      <div class="items" id="item-list"></div>
    </div>

    <div class="section">
      <div class="section-title">Total</div>
      <div class="box total-box" id="total-box">Rp 0</div>
    </div>

    <div class="section">
      <div class="section-title">Bayar</div>
      <div class="box bayar-box">
        <input type="number" id="bayar-input" placeholder="Jumlah uang bayar" oninput="hitungKembalian()">
        <p id="kembalian-text"></p>
      </div>
    </div>
  </div>

  <script>
  let total = 0;

function tambahItem() {
  const name = document.getElementById("item-name").value;
  const price = parseInt(document.getElementById("item-price").value);
  const quantity = parseInt(document.getElementById("quantity of items").value);

  if (!name || isNaN(price) || isNaN(quantity) || quantity <= 0) {
    alert("Mohon isi nama, harga, dan jumlah item dengan benar.");
    return;
  }

  const subtotal = price * quantity; // Harga x Jumlah

  const itemList = document.getElementById("item-list");

  const card = document.createElement("div");
  card.className = "item-card";
  card.innerHTML = `<p>${name} (x${quantity})<br>Rp ${subtotal.toLocaleString('id-ID')}</p>`;

  itemList.appendChild(card);

  total += subtotal;
  document.getElementById("total-box").textContent = `Rp ${total.toLocaleString('id-ID')}`;

  // Reset input
  document.getElementById("item-name").value = "";
  document.getElementById("item-price").value = "";
  document.getElementById("quantity of items").value = "";

  hitungKembalian(); // update kembalian otomatis
}

function hitungKembalian() {
  const bayar = parseInt(document.getElementById("bayar-input").value);
  const kembalianText = document.getElementById("kembalian-text");

  if (!isNaN(bayar)) {
    const kembalian = bayar - total;
    kembalianText.textContent = kembalian >= 0
      ? `Kembalian: Rp ${kembalian.toLocaleString('id-ID')}`
      : `Uang kurang Rp ${Math.abs(kembalian).toLocaleString('id-ID')}`;
  } else {
    kembalianText.textContent = "";
  }
}
</script>
</body>
</html>
